<!DOCTYPE html>
<html>

<head>
  <link href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
  <div id="app">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <form role="form">
            <div class="form-group">
               
              <label>
                Search Query
              </label>
              <input type="text" class="form-control" id="searchQuery" />
            </div>
         
           
          
            <button type="button" class="btn btn-primary" id="btn_search">
              Submit
            </button>
          </form>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
            <table id="tbl_res" border="1">
                
            </table>
        </div>
      </div>
    </div>
  </div>

</body>

</html>

<script>
  
  $('#btn_search').click(function(){
      var query=$('#searchQuery').val();
      if(query!='' ){
        
        $.ajax({
          url:'/answer-question',
          method:'POST',
          contentType: "application/json",
          data: JSON.stringify({question:query}),
          success:function(data){
             console.log(data);
            if(data==null || data==''){
              $("#tbl_res").html('No Records Found');
            }
            var q='';
            $.each( data, function( key, value ) {
              q+='<tr>'+ 
                '<td>'+value[0]+'</td>'+
                ' <td>'+value[1]+'</td>'+
                ' <td>'+value[3]+'</td>'+
                ' <td>'+value[4]+'</td>'+
                ' <td>'+value[5]+'</td>'+
                ' <td>'+value[6]+'</td>'+
                ' <td>'+value[7]+'</td>'+
                ' </tr>';
             
            });
            $("#tbl_res").html(q);
          }
        });
      }else{
        alert("Enter the value to find data");
       
      }
  });

</script>
